(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{210:function(t,a,s){"use strict";s.r(a);var n=s(0),r=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"变量提升（预解析）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变量提升（预解析）","aria-hidden":"true"}},[t._v("#")]),t._v(" 变量提升（预解析）")]),t._v(" "),s("h2",{attrs:{id:"一、javascript引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、javascript引擎","aria-hidden":"true"}},[t._v("#")]),t._v(" 一、JavaScript引擎")]),t._v(" "),s("blockquote",[s("p",[t._v("JavaScript引擎的主要作用是，读取JavaScript代码进行处理和运行。")])]),t._v(" "),s("p",[t._v("JavaScript引擎（JavaScript解释器），在执行JS代码之前 会先在当前作用域中进行"),s("strong",[t._v("预解析阶段")]),t._v("，然后再从上到下开始"),s("strong",[t._v("逐行执行JS代码")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"js中代码执行分为两个步骤："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js中代码执行分为两个步骤：","aria-hidden":"true"}},[t._v("#")]),t._v(" JS中代码执行分为两个步骤：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("1.预解析 先全盘扫描当前作用域中的所有声明的变量，进行预先的分析和处理")])]),t._v(" "),s("li",[s("p",[t._v("2.执行 从上到下开始 逐行解释并运行JS代码")])])]),t._v(" "),s("blockquote",[s("p",[t._v("JS代码在运行之前，先解析当前作用域中的所有代码，获取所有被声明的变量进行预处理。")])]),t._v(" "),s("h2",{attrs:{id:"二、变量提升（预解析）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、变量提升（预解析）","aria-hidden":"true"}},[t._v("#")]),t._v(" 二、变量提升（预解析）")]),t._v(" "),s("blockquote",[s("p",[t._v("在JS代码执行之前，会把当前作用域中所有带var和带function关键字的变量 进行提前的声明和定义（赋值）。")])]),t._v(" "),s("h3",{attrs:{id:"变量提升中普通变量和函数变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变量提升中普通变量和函数变量","aria-hidden":"true"}},[t._v("#")]),t._v(" 变量提升中普通变量和函数变量")]),t._v(" "),s("p",[t._v("在变量提升阶段：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("对于带var的普通变量 会被提前声明并被赋值为默认值undefined")])]),t._v(" "),s("li",[s("p",[t._v("对于带function的函数变量 会被提前声明并被赋值为当前函数本身")])])]),t._v(" "),s("div",{staticClass:"language-JavaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" num "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 代码执行的时候 才会进行赋值操作")]),t._v("\n")])])]),s("p",[t._v("用var定义的变量，在定义变量之前使用变量 输出得是变量的默认值undefined")]),t._v(" "),s("div",{staticClass:"language-JavaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// function fe() { console.log('fe') }")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'fe'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fe'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("用function定义的函数变量，在定义之前使用，输出的函数是被提前定义好的函数本身，所以我们可以在函数定义之前就来使用函数。")]),t._v(" "),s("blockquote",[s("p",[t._v("按照正常的思维逻辑，我们本应该是在定义了变量之后才可以使用变量。但在JS中由于存在变量提升的原因 导致出现了上面👆的现象。")])]),t._v(" "),s("p",[t._v("变量提升结束之后，代码开始从上到下逐行解释并运行")]),t._v(" "),s("h2",{attrs:{id:"三、作用域（栈内存）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、作用域（栈内存）","aria-hidden":"true"}},[t._v("#")]),t._v(" 三、作用域（栈内存）")]),t._v(" "),s("blockquote",[s("p",[t._v("作用域（栈内存），供JS代码执行的环境，也是用来保存基本数据类型的值。")])]),t._v(" "),s("h3",{attrs:{id:"js中的作用域"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js中的作用域","aria-hidden":"true"}},[t._v("#")]),t._v(" JS中的作用域")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("全局作用域（window） 当打开页面时，浏览器为了执行全局中的所有代码 而提供的JS执行的环境")])]),t._v(" "),s("li",[s("p",[t._v("函数作用域（私有作用域） 当函数执行的时候，为了执行函数体里的代码，而提供的JS执行的环境")])]),t._v(" "),s("li",[s("p",[t._v("块级作用域（私有作用域） 在代码块中{}，使用ES6提供的let const 形成的作用域")])])]),t._v(" "),s("blockquote",[s("p",[t._v("只要是想执行JS代码 就需要提供一个作用域（栈内存）让代码在里面执行，比如 你想要踢足球 你就需要有一个能踢足球的活动场地（所谓足球场）。")])]),t._v(" "),s("p",[t._v("全局指的是 页面中的整个script")]),t._v(" "),s("div",{staticClass:"language-javaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 全局中的代码")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h3",{attrs:{id:"全局变量和私有变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局变量和私有变量","aria-hidden":"true"}},[t._v("#")]),t._v(" 全局变量和私有变量")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("全局变量 在全局作用域中声明的变量（全局变量参加的是全局中的变量提升）")])]),t._v(" "),s("li",[s("p",[t._v("私有变量 在私有作用域中声明的变量（私有变量参加的是私有作用域中的变量提升）")])])]),t._v(" "),s("div",{staticClass:"language-javaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" boy "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'boy'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 全局变量")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// num 形参变量也属于函数中的私有变量")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" girl "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'girl'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// girl 函数中的私有变量")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"变量提升只发生在当前作用域中"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变量提升只发生在当前作用域中","aria-hidden":"true"}},[t._v("#")]),t._v(" 变量提升只发生在当前作用域中")]),t._v(" "),s("p",[t._v("当打开页面的时候，最先进行的是全局作用域中的变量提升。\n当函数执行的时候，进行的是函数作用域中的变量提升。")]),t._v(" "),s("div",{staticClass:"language-javaScript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'java'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])])}],!1,null,null,null);a.default=r.exports}}]);